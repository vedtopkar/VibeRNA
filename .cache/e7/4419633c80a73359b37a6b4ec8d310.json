{"id":"VRyS","dependencies":[{"name":"/Users/vedtopkar/code/VibeRNA/tsconfig.json","includedInParent":true,"mtime":1616214813443},{"name":"/Users/vedtopkar/code/VibeRNA/package.json","includedInParent":true,"mtime":1616215247240},{"name":"./draw/drawnElements/UnpairedElement","loc":{"line":12,"column":32},"parent":"/Users/vedtopkar/code/VibeRNA/src/draw.ts","resolved":"/Users/vedtopkar/code/VibeRNA/src/draw/drawnElements/UnpairedElement.ts"},{"name":"./draw/drawnElements/StemElement","loc":{"line":13,"column":28},"parent":"/Users/vedtopkar/code/VibeRNA/src/draw.ts","resolved":"/Users/vedtopkar/code/VibeRNA/src/draw/drawnElements/StemElement.ts"},{"name":"./draw/drawnElements/TerminalLoopElement","loc":{"line":14,"column":36},"parent":"/Users/vedtopkar/code/VibeRNA/src/draw.ts","resolved":"/Users/vedtopkar/code/VibeRNA/src/draw/drawnElements/TerminalLoopElement.ts"},{"name":"./draw/drawnElements/MultiLoopElement","loc":{"line":15,"column":33},"parent":"/Users/vedtopkar/code/VibeRNA/src/draw.ts","resolved":"/Users/vedtopkar/code/VibeRNA/src/draw/drawnElements/MultiLoopElement.ts"},{"name":"./config/DrawConfig","loc":{"line":16,"column":27},"parent":"/Users/vedtopkar/code/VibeRNA/src/draw.ts","resolved":"/Users/vedtopkar/code/VibeRNA/src/config/DrawConfig.ts"},{"name":"./draw/drawnElements/BulgeElement","loc":{"line":17,"column":29},"parent":"/Users/vedtopkar/code/VibeRNA/src/draw.ts","resolved":"/Users/vedtopkar/code/VibeRNA/src/draw/drawnElements/BulgeElement.ts"},{"name":"tinygradient","loc":{"line":18,"column":45},"parent":"/Users/vedtopkar/code/VibeRNA/src/draw.ts","resolved":"/Users/vedtopkar/code/VibeRNA/node_modules/tinygradient/browser.js"}],"generated":{"js":"\"use strict\";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Drawing=void 0;var t=require(\"./draw/drawnElements/UnpairedElement\"),r=require(\"./draw/drawnElements/StemElement\"),i=require(\"./draw/drawnElements/TerminalLoopElement\"),n=require(\"./draw/drawnElements/MultiLoopElement\"),s=require(\"./config/DrawConfig\"),a=require(\"./draw/drawnElements/BulgeElement\"),o=e(require(\"tinygradient\")),u=function(){function e(e,t){this.rootElements=[],this.unpaireds=[],this.stems=[],this.terminalLoops=[],this.internalLoops=[],this.multiLoops=[],this.basePairs=[],this.config=s.DefaultConfig,this.drawCursor=this.config.origin.clone(),this.structure=e,this.nucleotides=Array(this.structure.sequence.length),this.view=t,this.drawCursor.x-=this.config.ntSpacing,this.drawVector=this.config.origin.subtract(this.drawCursor)}return e.prototype.drawTreeDispatch=function(){for(var e=0,r=this.structure.structureTree.root.daughters;e<r.length;e++){var i=r[e];switch(i.type){case\"UnpairedNode\":var n=new t.UnpairedElement(this,null,i);this.drawCursor=n.draw(this.drawCursor),this.rootElements.push(n);break;case\"StemNode\":var s=this.drawTreeRecursive(i,null,this.drawCursor.clone(),this.drawVector.clone());this.drawCursor.x+=this.config.ntSpacing+this.config.bpLength,this.rootElements.push(s)}}this.nucleotides.forEach(function(e,t){(t+1)%10!=0&&0!=t||e.drawNumbering(t)})},e.prototype.drawTreeRecursive=function(e,t,s,o){switch(e.type){case\"StemNode\":var u=new r.StemElement(this,t,e,s.clone(),o.clone());return s=u.draw(),e.daughters.length>0&&u.daughterElements.push(this.drawTreeRecursive(e.daughters[0],u,s,o)),u;case\"BulgeNode\":var l=new a.BulgeElement(this,t,e);return l.draw(),l;case\"TerminalLoopNode\":var h=new i.TerminalLoopElement(this,t,e);return h.draw(),this.terminalLoops.push(h),h;case\"MultiLoopNode\":var c=new n.MultiLoopElement(this,t,e);return c.draw(),this.multiLoops.push(c),c}},e.prototype.paintReactivity=function(e){var t=e.split(\",\").map(function(e){return parseFloat(e)});this.reactivities=this.normalizeReactivity(t);var r=o.default(\"white\",\"orange\"),i=this;this.nucleotides.forEach(function(e,t){\"A\"==e.letter.toUpperCase()||\"C\"==e.letter.toUpperCase()?(e.reactivityValue=i.reactivities[t],e.circle.fillColor=r.rgbAt(i.reactivities[t]).toHexString()):e.circle.fillColor=\"#dbdbdb\"})},e.prototype.normalizeReactivity=function(e){return Math.min.apply(Math,e)<0&&(e=e.map(function(t){return t+Math.abs(Math.min.apply(Math,e))})),e=e.map(function(t){return t/Math.max.apply(Math,e)})},e}();exports.Drawing=u;"},"sourceMaps":{"js":{"mappings":[{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":0}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":13}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":17}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":19}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":25}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":30}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":47}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":56}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":59}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":66}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":69}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":71}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":82}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":84}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":85}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":93}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":97}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":104}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":119}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":127}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":140}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":141}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":148}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":152}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":160}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":173}},{"source":"src/draw.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":175}},{"source":"src/draw.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":179}},{"source":"src/draw.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":181}},{"source":"src/draw.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":189}},{"source":"src/draw.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":229}},{"source":"src/draw.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":231}},{"source":"src/draw.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":239}},{"source":"src/draw.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":275}},{"source":"src/draw.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":277}},{"source":"src/draw.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":285}},{"source":"src/draw.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":329}},{"source":"src/draw.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":331}},{"source":"src/draw.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":339}},{"source":"src/draw.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":380}},{"source":"src/draw.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":382}},{"source":"src/draw.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":390}},{"source":"src/draw.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":413}},{"source":"src/draw.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":415}},{"source":"src/draw.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":423}},{"source":"src/draw.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":460}},{"source":"src/draw.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":462}},{"source":"src/draw.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":464}},{"source":"src/draw.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":472}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":489}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":491}},{"source":"src/draw.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":502}},{"source":"src/draw.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":511}},{"source":"src/draw.ts","name":null,"original":{"line":69,"column":16},"generated":{"line":1,"column":513}},{"source":"src/draw.ts","name":null,"original":{"line":69,"column":52},"generated":{"line":1,"column":515}},{"source":"src/draw.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":518}},{"source":"src/draw.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":523}},{"source":"src/draw.ts","name":null,"original":{"line":37,"column":47},"generated":{"line":1,"column":536}},{"source":"src/draw.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":539}},{"source":"src/draw.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":544}},{"source":"src/draw.ts","name":null,"original":{"line":40,"column":47},"generated":{"line":1,"column":554}},{"source":"src/draw.ts","name":null,"original":{"line":41,"column":11},"generated":{"line":1,"column":557}},{"source":"src/draw.ts","name":null,"original":{"line":41,"column":11},"generated":{"line":1,"column":562}},{"source":"src/draw.ts","name":null,"original":{"line":41,"column":39},"generated":{"line":1,"column":568}},{"source":"src/draw.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":571}},{"source":"src/draw.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":576}},{"source":"src/draw.ts","name":null,"original":{"line":42,"column":52},"generated":{"line":1,"column":590}},{"source":"src/draw.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":593}},{"source":"src/draw.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":598}},{"source":"src/draw.ts","name":null,"original":{"line":43,"column":55},"generated":{"line":1,"column":612}},{"source":"src/draw.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":615}},{"source":"src/draw.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":620}},{"source":"src/draw.ts","name":null,"original":{"line":44,"column":49},"generated":{"line":1,"column":631}},{"source":"src/draw.ts","name":null,"original":{"line":45,"column":11},"generated":{"line":1,"column":634}},{"source":"src/draw.ts","name":null,"original":{"line":45,"column":11},"generated":{"line":1,"column":639}},{"source":"src/draw.ts","name":null,"original":{"line":45,"column":47},"generated":{"line":1,"column":649}},{"source":"src/draw.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":652}},{"source":"src/draw.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":657}},{"source":"src/draw.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":664}},{"source":"src/draw.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":666}},{"source":"src/draw.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":1,"column":680}},{"source":"src/draw.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":1,"column":685}},{"source":"src/draw.ts","name":null,"original":{"line":66,"column":32},"generated":{"line":1,"column":696}},{"source":"src/draw.ts","name":null,"original":{"line":66,"column":37},"generated":{"line":1,"column":701}},{"source":"src/draw.ts","name":null,"original":{"line":66,"column":44},"generated":{"line":1,"column":708}},{"source":"src/draw.ts","name":null,"original":{"line":66,"column":51},"generated":{"line":1,"column":715}},{"source":"src/draw.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":1,"column":723}},{"source":"src/draw.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":1,"column":728}},{"source":"src/draw.ts","name":null,"original":{"line":70,"column":25},"generated":{"line":1,"column":738}},{"source":"src/draw.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":740}},{"source":"src/draw.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":745}},{"source":"src/draw.ts","name":null,"original":{"line":71,"column":27},"generated":{"line":1,"column":757}},{"source":"src/draw.ts","name":null,"original":{"line":71,"column":33},"generated":{"line":1,"column":763}},{"source":"src/draw.ts","name":null,"original":{"line":71,"column":38},"generated":{"line":1,"column":768}},{"source":"src/draw.ts","name":null,"original":{"line":71,"column":48},"generated":{"line":1,"column":778}},{"source":"src/draw.ts","name":null,"original":{"line":71,"column":57},"generated":{"line":1,"column":787}},{"source":"src/draw.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":795}},{"source":"src/draw.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":800}},{"source":"src/draw.ts","name":null,"original":{"line":73,"column":20},"generated":{"line":1,"column":805}},{"source":"src/draw.ts","name":null,"original":{"line":76,"column":13},"generated":{"line":1,"column":807}},{"source":"src/draw.ts","name":null,"original":{"line":76,"column":13},"generated":{"line":1,"column":812}},{"source":"src/draw.ts","name":null,"original":{"line":76,"column":24},"generated":{"line":1,"column":823}},{"source":"src/draw.ts","name":null,"original":{"line":76,"column":29},"generated":{"line":1,"column":826}},{"source":"src/draw.ts","name":null,"original":{"line":76,"column":34},"generated":{"line":1,"column":831}},{"source":"src/draw.ts","name":null,"original":{"line":76,"column":41},"generated":{"line":1,"column":838}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":848}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":853}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":26},"generated":{"line":1,"column":864}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":31},"generated":{"line":1,"column":869}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":38},"generated":{"line":1,"column":876}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":45},"generated":{"line":1,"column":883}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":54},"generated":{"line":1,"column":892}},{"source":"src/draw.ts","name":null,"original":{"line":79,"column":59},"generated":{"line":1,"column":897}},{"source":"src/draw.ts","name":null,"original":{"line":202,"column":0},"generated":{"line":1,"column":909}},{"source":"src/draw.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":916}},{"source":"src/draw.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":918}},{"source":"src/draw.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":928}},{"source":"src/draw.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":1,"column":945}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":956}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":960}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":964}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":966}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":968}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":970}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":32},"generated":{"line":1,"column":975}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":42},"generated":{"line":1,"column":985}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":56},"generated":{"line":1,"column":999}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":61},"generated":{"line":1,"column":1004}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":1014}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":1016}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":1018}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":1025}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":72},"generated":{"line":1,"column":1029}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":19},"generated":{"line":1,"column":1030}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":19},"generated":{"line":1,"column":1034}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":23},"generated":{"line":1,"column":1036}},{"source":"src/draw.ts","name":null,"original":{"line":84,"column":23},"generated":{"line":1,"column":1038}},{"source":"src/draw.ts","name":null,"original":{"line":86,"column":19},"generated":{"line":1,"column":1041}},{"source":"src/draw.ts","name":null,"original":{"line":86,"column":19},"generated":{"line":1,"column":1048}},{"source":"src/draw.ts","name":null,"original":{"line":86,"column":24},"generated":{"line":1,"column":1050}},{"source":"src/draw.ts","name":null,"original":{"line":87,"column":21},"generated":{"line":1,"column":1056}},{"source":"src/draw.ts","name":null,"original":{"line":87,"column":21},"generated":{"line":1,"column":1060}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":1,"column":1075}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":1,"column":1079}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":45},"generated":{"line":1,"column":1081}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":49},"generated":{"line":1,"column":1085}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":49},"generated":{"line":1,"column":1087}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":65},"generated":{"line":1,"column":1103}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":71},"generated":{"line":1,"column":1108}},{"source":"src/draw.ts","name":null,"original":{"line":88,"column":77},"generated":{"line":1,"column":1113}},{"source":"src/draw.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":1,"column":1116}},{"source":"src/draw.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":1,"column":1121}},{"source":"src/draw.ts","name":null,"original":{"line":91,"column":38},"generated":{"line":1,"column":1132}},{"source":"src/draw.ts","name":null,"original":{"line":91,"column":40},"generated":{"line":1,"column":1134}},{"source":"src/draw.ts","name":null,"original":{"line":91,"column":45},"generated":{"line":1,"column":1139}},{"source":"src/draw.ts","name":null,"original":{"line":91,"column":50},"generated":{"line":1,"column":1144}},{"source":"src/draw.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":1156}},{"source":"src/draw.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":1161}},{"source":"src/draw.ts","name":null,"original":{"line":92,"column":38},"generated":{"line":1,"column":1174}},{"source":"src/draw.ts","name":null,"original":{"line":92,"column":43},"generated":{"line":1,"column":1179}},{"source":"src/draw.ts","name":null,"original":{"line":94,"column":20},"generated":{"line":1,"column":1182}},{"source":"src/draw.ts","name":null,"original":{"line":96,"column":21},"generated":{"line":1,"column":1188}},{"source":"src/draw.ts","name":null,"original":{"line":96,"column":21},"generated":{"line":1,"column":1192}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":24},"generated":{"line":1,"column":1203}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":24},"generated":{"line":1,"column":1207}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":28},"generated":{"line":1,"column":1209}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":33},"generated":{"line":1,"column":1214}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":51},"generated":{"line":1,"column":1232}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":57},"generated":{"line":1,"column":1234}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":63},"generated":{"line":1,"column":1239}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":68},"generated":{"line":1,"column":1244}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":79},"generated":{"line":1,"column":1255}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":88},"generated":{"line":1,"column":1263}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":93},"generated":{"line":1,"column":1268}},{"source":"src/draw.ts","name":null,"original":{"line":98,"column":104},"generated":{"line":1,"column":1279}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":25},"generated":{"line":1,"column":1288}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":25},"generated":{"line":1,"column":1293}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":36},"generated":{"line":1,"column":1304}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":42},"generated":{"line":1,"column":1307}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":1,"column":1312}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":54},"generated":{"line":1,"column":1319}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":66},"generated":{"line":1,"column":1329}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":71},"generated":{"line":1,"column":1334}},{"source":"src/draw.ts","name":null,"original":{"line":102,"column":78},"generated":{"line":1,"column":1341}},{"source":"src/draw.ts","name":null,"original":{"line":104,"column":25},"generated":{"line":1,"column":1350}},{"source":"src/draw.ts","name":null,"original":{"line":104,"column":25},"generated":{"line":1,"column":1355}},{"source":"src/draw.ts","name":null,"original":{"line":104,"column":38},"generated":{"line":1,"column":1368}},{"source":"src/draw.ts","name":null,"original":{"line":104,"column":43},"generated":{"line":1,"column":1373}},{"source":"src/draw.ts","name":null,"original":{"line":112,"column":13},"generated":{"line":1,"column":1377}},{"source":"src/draw.ts","name":null,"original":{"line":112,"column":13},"generated":{"line":1,"column":1382}},{"source":"src/draw.ts","name":null,"original":{"line":112,"column":25},"generated":{"line":1,"column":1394}},{"source":"src/draw.ts","name":null,"original":{"line":112,"column":33},"generated":{"line":1,"column":1402}},{"source":"src/draw.ts","name":null,"original":{"line":112,"column":34},"generated":{"line":1,"column":1411}},{"source":"src/draw.ts","name":null,"original":{"line":112,"column":37},"generated":{"line":1,"column":1413}},{"source":"src/draw.ts","name":null,"original":{"line":113,"column":16},"generated":{"line":1,"column":1417}},{"source":"src/draw.ts","name":null,"original":{"line":113,"column":20},"generated":{"line":1,"column":1419}},{"source":"src/draw.ts","name":null,"original":{"line":113,"column":25},"generated":{"line":1,"column":1422}},{"source":"src/draw.ts","name":null,"original":{"line":113,"column":31},"generated":{"line":1,"column":1426}},{"source":"src/draw.ts","name":null,"original":{"line":113,"column":41},"generated":{"line":1,"column":1429}},{"source":"src/draw.ts","name":null,"original":{"line":113,"column":36},"generated":{"line":1,"column":1432}},{"source":"src/draw.ts","name":null,"original":{"line":114,"column":16},"generated":{"line":1,"column":1435}},{"source":"src/draw.ts","name":null,"original":{"line":114,"column":18},"generated":{"line":1,"column":1437}},{"source":"src/draw.ts","name":null,"original":{"line":114,"column":32},"generated":{"line":1,"column":1451}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":1457}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":1459}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":1469}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":4},"generated":{"line":1,"column":1487}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":29},"generated":{"line":1,"column":1496}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":41},"generated":{"line":1,"column":1498}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":70},"generated":{"line":1,"column":1500}},{"source":"src/draw.ts","name":null,"original":{"line":119,"column":89},"generated":{"line":1,"column":1502}},{"source":"src/draw.ts","name":null,"original":{"line":120,"column":15},"generated":{"line":1,"column":1505}},{"source":"src/draw.ts","name":null,"original":{"line":120,"column":15},"generated":{"line":1,"column":1512}},{"source":"src/draw.ts","name":null,"original":{"line":120,"column":20},"generated":{"line":1,"column":1514}},{"source":"src/draw.ts","name":null,"original":{"line":121,"column":17},"generated":{"line":1,"column":1520}},{"source":"src/draw.ts","name":null,"original":{"line":121,"column":17},"generated":{"line":1,"column":1524}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":20},"generated":{"line":1,"column":1535}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":20},"generated":{"line":1,"column":1539}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":24},"generated":{"line":1,"column":1541}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":28},"generated":{"line":1,"column":1545}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":28},"generated":{"line":1,"column":1547}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":40},"generated":{"line":1,"column":1559}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":46},"generated":{"line":1,"column":1564}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":61},"generated":{"line":1,"column":1566}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":67},"generated":{"line":1,"column":1568}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":78},"generated":{"line":1,"column":1570}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":87},"generated":{"line":1,"column":1578}},{"source":"src/draw.ts","name":null,"original":{"line":122,"column":98},"generated":{"line":1,"column":1580}},{"source":"src/draw.ts","name":null,"original":{"line":128,"column":23},"generated":{"line":1,"column":1589}},{"source":"src/draw.ts","name":null,"original":{"line":123,"column":16},"generated":{"line":1,"column":1596}},{"source":"src/draw.ts","name":null,"original":{"line":123,"column":29},"generated":{"line":1,"column":1598}},{"source":"src/draw.ts","name":null,"original":{"line":123,"column":31},"generated":{"line":1,"column":1600}},{"source":"src/draw.ts","name":null,"original":{"line":125,"column":20},"generated":{"line":1,"column":1607}},{"source":"src/draw.ts","name":null,"original":{"line":125,"column":25},"generated":{"line":1,"column":1609}},{"source":"src/draw.ts","name":null,"original":{"line":125,"column":35},"generated":{"line":1,"column":1619}},{"source":"src/draw.ts","name":null,"original":{"line":125,"column":44},"generated":{"line":1,"column":1626}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":20},"generated":{"line":1,"column":1629}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":22},"generated":{"line":1,"column":1631}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":39},"generated":{"line":1,"column":1648}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":44},"generated":{"line":1,"column":1653}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":49},"generated":{"line":1,"column":1658}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":67},"generated":{"line":1,"column":1676}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":72},"generated":{"line":1,"column":1678}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":82},"generated":{"line":1,"column":1688}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":86},"generated":{"line":1,"column":1691}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":89},"generated":{"line":1,"column":1693}},{"source":"src/draw.ts","name":null,"original":{"line":126,"column":101},"generated":{"line":1,"column":1695}},{"source":"src/draw.ts","name":null,"original":{"line":128,"column":23},"generated":{"line":1,"column":1699}},{"source":"src/draw.ts","name":null,"original":{"line":133,"column":17},"generated":{"line":1,"column":1701}},{"source":"src/draw.ts","name":null,"original":{"line":133,"column":17},"generated":{"line":1,"column":1705}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":20},"generated":{"line":1,"column":1717}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":20},"generated":{"line":1,"column":1721}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":24},"generated":{"line":1,"column":1723}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":28},"generated":{"line":1,"column":1727}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":28},"generated":{"line":1,"column":1729}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":41},"generated":{"line":1,"column":1742}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":47},"generated":{"line":1,"column":1747}},{"source":"src/draw.ts","name":null,"original":{"line":134,"column":62},"generated":{"line":1,"column":1749}},{"source":"src/draw.ts","name":null,"original":{"line":137,"column":23},"generated":{"line":1,"column":1752}},{"source":"src/draw.ts","name":null,"original":{"line":135,"column":16},"generated":{"line":1,"column":1759}},{"source":"src/draw.ts","name":null,"original":{"line":135,"column":18},"generated":{"line":1,"column":1761}},{"source":"src/draw.ts","name":null,"original":{"line":137,"column":23},"generated":{"line":1,"column":1768}},{"source":"src/draw.ts","name":null,"original":{"line":142,"column":17},"generated":{"line":1,"column":1770}},{"source":"src/draw.ts","name":null,"original":{"line":142,"column":17},"generated":{"line":1,"column":1774}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":20},"generated":{"line":1,"column":1793}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":20},"generated":{"line":1,"column":1797}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":24},"generated":{"line":1,"column":1799}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":28},"generated":{"line":1,"column":1803}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":28},"generated":{"line":1,"column":1805}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":48},"generated":{"line":1,"column":1825}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":54},"generated":{"line":1,"column":1830}},{"source":"src/draw.ts","name":null,"original":{"line":143,"column":69},"generated":{"line":1,"column":1832}},{"source":"src/draw.ts","name":null,"original":{"line":149,"column":23},"generated":{"line":1,"column":1835}},{"source":"src/draw.ts","name":null,"original":{"line":144,"column":16},"generated":{"line":1,"column":1842}},{"source":"src/draw.ts","name":null,"original":{"line":144,"column":18},"generated":{"line":1,"column":1844}},{"source":"src/draw.ts","name":null,"original":{"line":146,"column":21},"generated":{"line":1,"column":1851}},{"source":"src/draw.ts","name":null,"original":{"line":146,"column":21},"generated":{"line":1,"column":1856}},{"source":"src/draw.ts","name":null,"original":{"line":146,"column":35},"generated":{"line":1,"column":1870}},{"source":"src/draw.ts","name":null,"original":{"line":146,"column":40},"generated":{"line":1,"column":1875}},{"source":"src/draw.ts","name":null,"original":{"line":149,"column":23},"generated":{"line":1,"column":1878}},{"source":"src/draw.ts","name":null,"original":{"line":153,"column":17},"generated":{"line":1,"column":1880}},{"source":"src/draw.ts","name":null,"original":{"line":153,"column":17},"generated":{"line":1,"column":1884}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":20},"generated":{"line":1,"column":1900}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":20},"generated":{"line":1,"column":1904}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":24},"generated":{"line":1,"column":1906}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":28},"generated":{"line":1,"column":1910}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":28},"generated":{"line":1,"column":1912}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":45},"generated":{"line":1,"column":1929}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":51},"generated":{"line":1,"column":1934}},{"source":"src/draw.ts","name":null,"original":{"line":154,"column":66},"generated":{"line":1,"column":1936}},{"source":"src/draw.ts","name":null,"original":{"line":158,"column":23},"generated":{"line":1,"column":1939}},{"source":"src/draw.ts","name":null,"original":{"line":155,"column":16},"generated":{"line":1,"column":1946}},{"source":"src/draw.ts","name":null,"original":{"line":155,"column":18},"generated":{"line":1,"column":1948}},{"source":"src/draw.ts","name":null,"original":{"line":156,"column":21},"generated":{"line":1,"column":1955}},{"source":"src/draw.ts","name":null,"original":{"line":156,"column":21},"generated":{"line":1,"column":1960}},{"source":"src/draw.ts","name":null,"original":{"line":156,"column":32},"generated":{"line":1,"column":1971}},{"source":"src/draw.ts","name":null,"original":{"line":156,"column":37},"generated":{"line":1,"column":1976}},{"source":"src/draw.ts","name":null,"original":{"line":158,"column":23},"generated":{"line":1,"column":1979}},{"source":"src/draw.ts","name":null,"original":{"line":164,"column":11},"generated":{"line":1,"column":1983}},{"source":"src/draw.ts","name":null,"original":{"line":164,"column":11},"generated":{"line":1,"column":1985}},{"source":"src/draw.ts","name":null,"original":{"line":164,"column":11},"generated":{"line":1,"column":1995}},{"source":"src/draw.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":1,"column":2011}},{"source":"src/draw.ts","name":null,"original":{"line":164,"column":27},"generated":{"line":1,"column":2020}},{"source":"src/draw.ts","name":null,"original":{"line":167,"column":14},"generated":{"line":1,"column":2023}},{"source":"src/draw.ts","name":null,"original":{"line":168,"column":14},"generated":{"line":1,"column":2027}},{"source":"src/draw.ts","name":null,"original":{"line":167,"column":29},"generated":{"line":1,"column":2029}},{"source":"src/draw.ts","name":null,"original":{"line":167,"column":40},"generated":{"line":1,"column":2031}},{"source":"src/draw.ts","name":null,"original":{"line":167,"column":46},"generated":{"line":1,"column":2037}},{"source":"src/draw.ts","name":null,"original":{"line":168,"column":46},"generated":{"line":1,"column":2042}},{"source":"src/draw.ts","name":null,"original":{"line":168,"column":50},"generated":{"line":1,"column":2046}},{"source":"src/draw.ts","name":null,"original":{"line":168,"column":50},"generated":{"line":1,"column":2055}},{"source":"src/draw.ts","name":null,"original":{"line":168,"column":55},"generated":{"line":1,"column":2058}},{"source":"src/draw.ts","name":null,"original":{"line":168,"column":55},"generated":{"line":1,"column":2065}},{"source":"src/draw.ts","name":null,"original":{"line":168,"column":66},"generated":{"line":1,"column":2076}},{"source":"src/draw.ts","name":null,"original":{"line":169,"column":13},"generated":{"line":1,"column":2081}},{"source":"src/draw.ts","name":null,"original":{"line":169,"column":13},"generated":{"line":1,"column":2086}},{"source":"src/draw.ts","name":null,"original":{"line":169,"column":28},"generated":{"line":1,"column":2099}},{"source":"src/draw.ts","name":null,"original":{"line":169,"column":33},"generated":{"line":1,"column":2104}},{"source":"src/draw.ts","name":null,"original":{"line":169,"column":53},"generated":{"line":1,"column":2124}},{"source":"src/draw.ts","name":null,"original":{"line":172,"column":12},"generated":{"line":1,"column":2127}},{"source":"src/draw.ts","name":null,"original":{"line":172,"column":12},"generated":{"line":1,"column":2131}},{"source":"src/draw.ts","name":null,"original":{"line":172,"column":23},"generated":{"line":1,"column":2133}},{"source":"src/draw.ts","name":null,"original":{"line":172,"column":23},"generated":{"line":1,"column":2135}},{"source":"src/draw.ts","name":null,"original":{"line":172,"column":36},"generated":{"line":1,"column":2143}},{"source":"src/draw.ts","name":null,"original":{"line":172,"column":45},"generated":{"line":1,"column":2151}},{"source":"src/draw.ts","name":null,"original":{"line":175,"column":12},"generated":{"line":1,"column":2161}},{"source":"src/draw.ts","name":null,"original":{"line":175,"column":19},"generated":{"line":1,"column":2163}},{"source":"src/draw.ts","name":null,"original":{"line":176,"column":13},"generated":{"line":1,"column":2168}},{"source":"src/draw.ts","name":null,"original":{"line":176,"column":13},"generated":{"line":1,"column":2173}},{"source":"src/draw.ts","name":null,"original":{"line":176,"column":25},"generated":{"line":1,"column":2185}},{"source":"src/draw.ts","name":null,"original":{"line":176,"column":33},"generated":{"line":1,"column":2193}},{"source":"src/draw.ts","name":null,"original":{"line":176,"column":34},"generated":{"line":1,"column":2202}},{"source":"src/draw.ts","name":null,"original":{"line":176,"column":37},"generated":{"line":1,"column":2204}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":42},"generated":{"line":1,"column":2207}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":16},"generated":{"line":1,"column":2212}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":18},"generated":{"line":1,"column":2214}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":25},"generated":{"line":1,"column":2221}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":76},"generated":{"line":1,"column":2236}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":50},"generated":{"line":1,"column":2241}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":52},"generated":{"line":1,"column":2243}},{"source":"src/draw.ts","name":null,"original":{"line":177,"column":59},"generated":{"line":1,"column":2250}},{"source":"src/draw.ts","name":null,"original":{"line":178,"column":16},"generated":{"line":1,"column":2265}},{"source":"src/draw.ts","name":null,"original":{"line":178,"column":18},"generated":{"line":1,"column":2267}},{"source":"src/draw.ts","name":null,"original":{"line":178,"column":36},"generated":{"line":1,"column":2283}},{"source":"src/draw.ts","name":null,"original":{"line":178,"column":41},"generated":{"line":1,"column":2285}},{"source":"src/draw.ts","name":null,"original":{"line":178,"column":54},"generated":{"line":1,"column":2298}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":16},"generated":{"line":1,"column":2301}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":18},"generated":{"line":1,"column":2303}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":25},"generated":{"line":1,"column":2310}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":37},"generated":{"line":1,"column":2320}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":46},"generated":{"line":1,"column":2322}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":52},"generated":{"line":1,"column":2328}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":57},"generated":{"line":1,"column":2330}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":70},"generated":{"line":1,"column":2343}},{"source":"src/draw.ts","name":null,"original":{"line":179,"column":74},"generated":{"line":1,"column":2347}},{"source":"src/draw.ts","name":null,"original":{"line":181,"column":16},"generated":{"line":1,"column":2362}},{"source":"src/draw.ts","name":null,"original":{"line":181,"column":18},"generated":{"line":1,"column":2364}},{"source":"src/draw.ts","name":null,"original":{"line":181,"column":25},"generated":{"line":1,"column":2371}},{"source":"src/draw.ts","name":null,"original":{"line":181,"column":37},"generated":{"line":1,"column":2381}},{"source":"src/draw.ts","name":null,"original":{"line":189,"column":11},"generated":{"line":1,"column":2394}},{"source":"src/draw.ts","name":null,"original":{"line":189,"column":11},"generated":{"line":1,"column":2396}},{"source":"src/draw.ts","name":null,"original":{"line":189,"column":11},"generated":{"line":1,"column":2406}},{"source":"src/draw.ts","name":null,"original":{"line":189,"column":4},"generated":{"line":1,"column":2426}},{"source":"src/draw.ts","name":null,"original":{"line":189,"column":31},"generated":{"line":1,"column":2435}},{"source":"src/draw.ts","name":null,"original":{"line":199,"column":15},"generated":{"line":1,"column":2438}},{"source":"src/draw.ts","name":null,"original":{"line":192,"column":11},"generated":{"line":1,"column":2445}},{"source":"src/draw.ts","name":null,"original":{"line":192,"column":16},"generated":{"line":1,"column":2450}},{"source":"src/draw.ts","name":null,"original":{"line":192,"column":19},"generated":{"line":1,"column":2454}},{"source":"src/draw.ts","name":null,"original":{"line":192,"column":11},"generated":{"line":1,"column":2460}},{"source":"src/draw.ts","name":null,"original":{"line":192,"column":23},"generated":{"line":1,"column":2465}},{"source":"src/draw.ts","name":null,"original":{"line":192,"column":33},"generated":{"line":1,"column":2468}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":12},"generated":{"line":1,"column":2472}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":21},"generated":{"line":1,"column":2474}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":28},"generated":{"line":1,"column":2476}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":32},"generated":{"line":1,"column":2480}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":32},"generated":{"line":1,"column":2489}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":37},"generated":{"line":1,"column":2492}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":37},"generated":{"line":1,"column":2499}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":41},"generated":{"line":1,"column":2501}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":46},"generated":{"line":1,"column":2506}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":50},"generated":{"line":1,"column":2510}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":55},"generated":{"line":1,"column":2515}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":58},"generated":{"line":1,"column":2519}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":50},"generated":{"line":1,"column":2525}},{"source":"src/draw.ts","name":null,"original":{"line":193,"column":62},"generated":{"line":1,"column":2530}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":8},"generated":{"line":1,"column":2537}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":17},"generated":{"line":1,"column":2539}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":24},"generated":{"line":1,"column":2541}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":28},"generated":{"line":1,"column":2545}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":28},"generated":{"line":1,"column":2554}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":33},"generated":{"line":1,"column":2557}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":33},"generated":{"line":1,"column":2564}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":35},"generated":{"line":1,"column":2566}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":40},"generated":{"line":1,"column":2571}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":43},"generated":{"line":1,"column":2575}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":35},"generated":{"line":1,"column":2581}},{"source":"src/draw.ts","name":null,"original":{"line":197,"column":47},"generated":{"line":1,"column":2586}},{"source":"src/draw.ts","name":null,"original":{"line":202,"column":0},"generated":{"line":1,"column":2592}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":2594}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":2597}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":2605}},{"source":"src/draw.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":2613}}],"sources":{"src/draw.ts":"/** \n * Draw.ts\n * \n * Main file that initiates drawing\n*/\n\nimport { Point, View, Color } from \"paper/dist/paper-core\"\nimport { ParseSecondaryStructure, StructureTree } from \"./structure/ParseSecondaryStructure\"\nimport { Node, UnpairedNode, StemNode, TerminalLoopNode, BulgeNode, InternalLoop, MultiLoop, RootNode } from './structure/Nodes'\n\nimport { DrawnElement } from './draw/drawnElements/DrawnElement'\nimport { UnpairedElement } from './draw/drawnElements/UnpairedElement'\nimport { StemElement } from './draw/drawnElements/StemElement'\nimport { TerminalLoopElement } from './draw/drawnElements/TerminalLoopElement'\nimport { InternalLoopElement } from './draw/drawnElements/InternalLoopElement'\nimport { MultiLoopElement } from './draw/drawnElements/MultiLoopElement'\nimport { BasePairElement } from './draw/drawnElements/BasePairElement'\nimport { Nucleotide } from './draw/Nucleotide'\nimport { DrawConfig, DefaultConfig } from \"./config/DrawConfig\"\nimport { BulgeElement } from \"./draw/drawnElements/BulgeElement\"\nimport tinygradient from \"tinygradient\"\n\n/**\n * Drawing\n * \n * A class that encapsulates all elements and configuration of our RNA drawing\n */\nexport class Drawing {\n\n    // Reference to paper view\n    public view: View\n\n    // Reference to a structure object\n    public structure: ParseSecondaryStructure\n\n    // The drawtree is a nested \n    public rootElements: Array<DrawnElement> = []\n\n    // Explicit references to each type of drawn element for easy post-hoc updating\n    public unpaireds: Array<UnpairedElement> = []\n    public stems: Array<StemElement> = []\n    public terminalLoops: Array<TerminalLoopNode> = []\n    public internalLoops: Array<InternalLoopElement> = []\n    public multiLoops: Array<MultiLoopElement> = []\n    public basePairs: Array<BasePairElement> = []\n    public nucleotides: Array<Nucleotide>\n    \n    // Load in the default config\n    public config: DrawConfig = DefaultConfig\n\n    public reactivities: Array<number>\n\n    /**\n     * Draw cursor of drawing\n     * \n     * This object is a bit tricky... be careful!\n     * \n     * The drawing class has this attribute that initializes to the origin.\n     * As we dispatch unpaired or stem nodes from the root, we update the\n     * drawCursor.\n     * \n     * When we spawn stems to start recursive drawing, we pass in a CLONE\n     * of this object so that it can be passed around inside that recursive \n     * part of the tree without messing with the root-level nodes.\n     */\n    private drawCursor: Point = this.config.origin.clone()\n    private drawVector: Point\n\n    constructor(structure: ParseSecondaryStructure, view: View) {\n        this.structure = structure\n        this.nucleotides = Array(this.structure.sequence.length)\n\n        this.view = view\n\n        // Shift over so that the first element is drawn at the origin\n        this.drawCursor.x -= this.config.ntSpacing\n\n        // Generate an initial drawVector that points rightward\n        this.drawVector = this.config.origin.subtract(this.drawCursor)\n\n    }\n\n    public drawTreeDispatch() {\n        for (const node of this.structure.structureTree.root.daughters) {\n\n            switch(node.type) {\n                case 'UnpairedNode' : {\n                    let u: UnpairedElement = new UnpairedElement(this, null, node)\n\n                    // We expect unpaired nodes to return a drawCursor that sits at the center of the last nt\n                    this.drawCursor = u.draw(this.drawCursor)\n                    this.rootElements.push(u)\n                    \n                    break\n                }\n                case 'StemNode': {\n\n                    let s = this.drawTreeRecursive(node, null, this.drawCursor.clone(), this.drawVector.clone())\n\n                    // The next dispatched element may be a unpaired node or a stem\n                    // shift the drawCursor over to where the bottom right stem nt should be\n                    this.drawCursor.x += (this.config.ntSpacing + this.config.bpLength)\n\n                    this.rootElements.push(s)\n\n                    break\n                }\n            }\n        }\n\n        \n        this.nucleotides.forEach((n, i) => {\n            if((i + 1) % 10 == 0 || i == 0) {\n                n.drawNumbering(i)\n            }\n        })\n    }\n\n    public drawTreeRecursive(node: Node, parentElement: DrawnElement, drawCursor: Point, drawVector: Point) {\n        switch(node.type) {\n            case 'StemNode': {\n                let s = new StemElement(this, parentElement, node, drawCursor.clone(), drawVector.clone())\n                drawCursor = s.draw()\n\n                if (node.daughters.length > 0) {\n                    s.daughterElements.push(this.drawTreeRecursive(node.daughters[0], s, drawCursor, drawVector))\n                }\n                return s\n\n                break\n            }\n\n            case 'BulgeNode': {\n                let b = new BulgeElement(this, parentElement, node)\n                b.draw()\n\n                return b\n\n                break\n            }\n\n            case 'TerminalLoopNode': {\n                let t = new TerminalLoopElement(this, parentElement, node)\n                t.draw()\n\n                this.terminalLoops.push(t)\n                // End of the line! No more elements to draw in this branch.\n\n                return t\n                break\n            }\n\n            case 'MultiLoopNode': {\n                let m = new MultiLoopElement(this, parentElement, node)\n                m.draw()\n                this.multiLoops.push(m)\n                \n                return m\n                break\n            }\n        }\n    }\n\n    public paintReactivity(reactivity) {\n\n        // We start by taking in the values, splitting on commas, converting to floats, then normalizing to [0,1]\n        const splitNumbers = reactivity.split(\",\")\n        const reactivityFloats = splitNumbers.map(x => parseFloat(x))\n        this.reactivities = this.normalizeReactivity(reactivityFloats)\n\n        // Initialize gradient\n        let gradient = tinygradient('white', 'orange')\n\n        // Next, we color from white to red (for now)\n        let that = this\n        this.nucleotides.forEach((n, i) => {\n            if (n.letter.toUpperCase() == \"A\"  || n.letter.toUpperCase() == \"C\") {\n                n.reactivityValue = that.reactivities[i]\n                n.circle.fillColor = gradient.rgbAt(that.reactivities[i]).toHexString()\n            } else {\n                n.circle.fillColor = '#dbdbdb'\n            }\n\n        })\n\n        // console.log(reactivity.length, splitNumbers.length, reactivityFloats.length, this.normalizedReactivityFloats.length, this.structure.sequence.length)\n    }\n\n    public normalizeReactivity(values) {\n\n        // If values dip below 0, move everything up to be positive\n        if(Math.min(...values) < 0) {\n            values = values.map(x => x + Math.abs(Math.min(...values)))\n        }\n\n        // Divide by the maximun value\n        values = values.map(x => x/Math.max(...values))\n\n        return values\n    }\n\n}"},"lineCount":null}},"error":null,"hash":"12e2eaa5009f0da36c3d26bfc1eeee38","cacheData":{"env":{}}}